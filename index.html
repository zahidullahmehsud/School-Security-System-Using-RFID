<meta charset="UTF-8" />
<!DOCTYPE html>
<html>
<title>Login</title>
<head>
    
   
   
    <link rel="stylesheet" href="index.css">
    
  
</head>

<style>
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .spin-image {
        width: 50px;
        display: block;
        margin: 0 auto;
        animation: spin 20s linear infinite;
    }
</style>

        <body>
            
            <div class="login-box">
            <div id="bg"></div>
            <div >
                <img src="website_log.png" alt="Website Logo" style="width: 50px; display: block; margin: 0 auto; " class="spin-image">
            </div>
            <div class="login-title">
                ADMIN PANEL
            </div>
            
            <form name="login_form" id="login_form" method="post" action="#" enctype="multipart/form-data">
              <div class="form-field">
                <input input  name="login_email" id="login_email" type="text" class="form-control"placeholder="Email / Username" required/>
              </div>
              
              <div class="form-field">
                <input id="login_password" name="login_password" type="password" class="form-control" placeholder="Password" required/>                         </div>
              
              <div class="form-field">
                <button id="login" type="button" class="btn btn-outline-primary">LOGIN</button>
              </div>
            </form>
            </div>

        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-analytics.js";
            import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
        
            // Your web app's Firebase configuration
            // For Firebase JS SDK v7.20.0 and later, measurementId is optional
            const firebaseConfig = {
                apiKey: "AIzaSyDCXvbE44rMmYlkSLMIsramC6tiBcLBNH4",
    authDomain: "schoolsecuritysystemusin-4c8fa.firebaseapp.com",
    databaseURL: "https://schoolsecuritysystemusin-4c8fa-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "schoolsecuritysystemusin-4c8fa",
    storageBucket: "schoolsecuritysystemusin-4c8fa.appspot.com",
    messagingSenderId: "58102931592",
    appId: "1:58102931592:web:8b2a5aee4664b3df023f3d",
    measurementId: "G-KTK6CHM7EF"
            };
        
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const auth = getAuth(app);
            console.log(app);
        
        
        
            
            document.getElementById("login").addEventListener("click", function () {
                var email = document.getElementById("login_email").value;
                var password = document.getElementById("login_password").value;
               
        
                signInWithEmailAndPassword(auth, email, password)
                    .then((userCredential) => {
                        
                        const user = userCredential.user;
                        console.log(user);
                        alert(user.email + " Login successfully!!!");
                        window.location.href = "Dashboard.html";
                      
                    })
                  
                    .catch((error) => {
                                                const errorCode = error.code;
                                                const errorMessage = error.message;
                                                if (errorCode === 'auth/invalid-email') {
                                                    alert('Missing Email and Password');
                                                }

                                                if (errorCode === 'auth/missing-password') {
                                                    alert('Missing Password');
                                                }

                                                if (errorCode === 'auth/user-not-found') {
                                                    alert('User not founnd');
                                                }

                                                if (errorCode === 'auth/wrong-password') {
                                                    alert('Wrong Password');
                                                }
                                               

                                            });
            });
           
        
      
        
        </script>
</body>
</html>